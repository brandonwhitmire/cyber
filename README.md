# Cyber

A website and repository for everything related to my studies and notes to be used as a reference.

## Quick Start

To clone this repository with all its submodules, use:

```bash
git clone --recursive https://github.com/opensourcekyle/cyber.git
```

### Download the Theme

**First time setup** (if you cloned without `--recursive` or the theme is missing):

```bash
rm -rf .themes
git submodule add https://github.com/McShelby/hugo-theme-relearn.git .themes/hugo-theme-relearn
```

### Build Website

```bash
\rm -rf public/ resources/ && hugo server --noHTTPCache
```

### Adding Front Matter to Lab Files (pre-commit hook)

A git pre-commit hook is set up at `.git/hooks/pre-commit` to automatically add front matter to lab files before each commit. This ensures all new lab files will have proper front matter even if you forget to add it manually.

The hook:

- Automatically runs `scripts/add-front-matter.py` on lab directories before each commit
- Processes files in `content/Labs - TryHackMe` and `content/Labs - HackTheBox`
- Automatically stages any modified files after adding front matter
- Runs silently and won't interrupt your commit workflow

**Note:** If you clone this repository, you may need to make the hook executable:

```bash
chmod +x .git/hooks/pre-commit
```

## Embedding Content Sections

The `embed-section` shortcode allows you to embed a specific section from one Markdown page into another, identified by the header ID.

### Usage

To embed a section from another page, use the shortcode with the `page` and `header` parameters:

```markdown
Here is my regular content.

Now I want to pull in a specific section from another page:
{{< embed-section page="my-other-page.md" header="my-cool-section" >}}

And here is the rest of my content.
```

### Parameters

- `page` (required): The path to the source page relative to the `content/` directory (e.g., `"Docs/6 - Post-Exploitation/active-directory.md"` or just `"my-other-page.md"` if in the same directory)
- `header` (required): The ID of the header to embed. Hugo automatically generates header IDs from the header text, but you can also specify custom IDs using `{#custom-id}` syntax in Markdown

### How It Works

1. The shortcode finds the header with the specified ID in the source page
2. It extracts all content from that header until the next header of the same or higher level
3. The extracted section (including the header) is rendered in place

### Example

If you have a page `content/Docs/6 - Post-Exploitation/active-directory.md` with a header:

```markdown
## Get `NTDS.dit` (keys of the kingdom)
```

Hugo will automatically generate an ID like `get-ntdsdit-keys-of-the-kingdom` for this header. To embed this section in another page:

```markdown
{{< embed-section page="Docs/6 - Post-Exploitation/active-directory.md" header="get-ntdsdit-keys-of-the-kingdom" >}}
```

**Note:** Header IDs are automatically generated by Hugo from the header text. To find the exact ID, check the rendered HTML or use your browser's developer tools to inspect the header element.
